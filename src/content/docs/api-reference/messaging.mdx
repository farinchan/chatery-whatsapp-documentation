---
title: Messaging
group: API Reference
description: Send various types of messages - text, images, documents, audio, polls, locations, contacts, and more.
priority: 9
---

## Overview

Messaging API allows you to send various types of messages through WhatsApp. All messaging endpoints support:

- **`typingTime`** parameter (in milliseconds) to simulate typing before sending the message, making the bot appear more human-like.
- **`replyTo`** parameter to reply/quote a specific message by passing the message ID.

**Base URL:** `http://localhost:3000/api/whatsapp`

---

## Send Text Message

Send a text message to a phone number or group.

```http
POST /chats/send-text
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "message": "Hello, World!",
  "typingTime": 2000,
  "replyTo": "3EB0B430A2B52B67D0"
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number (628xxx) or group ID (xxx@g.us) |
| `message` | string | Required. Text message to send |
| `typingTime` | number | Optional. Typing duration in ms before sending (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Image

Send an image with optional caption.

```http
POST /chats/send-image
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "imageUrl": "https://example.com/image.jpg",
  "caption": "Check this out!",
  "typingTime": 1500,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `imageUrl` | string | Required. Direct URL to image file |
| `caption` | string | Optional. Image caption |
| `typingTime` | number | Optional. Typing duration in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Document

Send a document/file.

```http
POST /chats/send-document
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "documentUrl": "https://example.com/document.pdf",
  "filename": "document.pdf",
  "mimetype": "application/pdf",
  "caption": "Here is the document you requested",
  "typingTime": 1000,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `documentUrl` | string | Required. Direct URL to document |
| `filename` | string | Required. Filename to display |
| `mimetype` | string | Optional. MIME type (default: application/pdf) |
| `caption` | string | Optional. Caption text for the document |
| `typingTime` | number | Optional. Typing duration in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Audio

Send an audio file or voice note.

```http
POST /chats/send-audio
```

> ⚠️ **Important:** Audio must be in OGG format (`.ogg`). WhatsApp only supports OGG audio files with Opus codec.
>
> Convert audio using FFmpeg: `ffmpeg -i input.mp3 -c:a libopus output.ogg`

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "audioUrl": "https://example.com/audio.ogg",
  "ptt": true,
  "typingTime": 1000,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `audioUrl` | string | Required. Direct URL to OGG audio file (`.ogg` format only) |
| `ptt` | boolean | Optional. Push to talk mode — `true` = voice note, `false` = audio file (default: false) |
| `typingTime` | number | Optional. Recording simulation in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Location

Send a GPS location.

```http
POST /chats/send-location
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "latitude": -6.2088,
  "longitude": 106.8456,
  "name": "Jakarta, Indonesia",
  "typingTime": 1000,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `latitude` | number | Required. GPS latitude |
| `longitude` | number | Required. GPS longitude |
| `name` | string | Optional. Location name |
| `typingTime` | number | Optional. Typing duration in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Contact

Send a contact card.

```http
POST /chats/send-contact
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "contactName": "John Doe",
  "contactPhone": "628987654321",
  "typingTime": 500,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `contactName` | string | Required. Contact display name |
| `contactPhone` | string | Required. Contact phone number |
| `typingTime` | number | Optional. Typing duration in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Poll Message

Send an interactive poll with single or multiple choice options.

```http
POST /chats/send-poll
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "question": "What is your favorite color?",
  "options": ["Red", "Blue", "Green", "Yellow"],
  "selectableCount": 1,
  "typingTime": 2000,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `question` | string | Required. Poll question |
| `options` | array | Required. Array of options (2-12 items) |
| `selectableCount` | number | Optional. Number of selectable options (default: 1) |
| `typingTime` | number | Optional. Typing duration in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Button Message (DEPRECATED)

> ⚠️ **Note:** WhatsApp deprecated button messages in 2022. This endpoint now uses Poll as an alternative. For actual interactive buttons, you need WhatsApp Business API (Cloud API).

```http
POST /chats/send-button
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "text": "Please choose an option:",
  "footer": "Powered by Chatery",
  "buttons": ["Option 1", "Option 2", "Option 3"],
  "typingTime": 2000,
  "replyTo": null
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `text` | string | Required. Poll question (combined with footer) |
| `footer` | string | Optional. Additional text |
| `buttons` | array | Required. Array of options (poll choices) |
| `typingTime` | number | Optional. Typing duration in ms (default: 0) |
| `replyTo` | string | Optional. Message ID to reply to |

---

## Send Presence Update

Send presence status (typing, recording, etc.).

```http
POST /chats/presence
```

**Body:**
```json
{
  "sessionId": "mysession",
  "chatId": "628123456789",
  "presence": "composing"
}
```

| Parameter | Type | Description |
|-----------|------|-------------|
| `sessionId` | string | Required. Session ID |
| `chatId` | string | Required. Phone number or group ID |
| `presence` | string | Required. Presence type |

**Available Presence Types:**

| Type | Description |
|------|-------------|
| `composing` | Typing indicator |
| `recording` | Recording audio indicator |
| `paused` | Stopped typing |
| `available` | Online status |
| `unavailable` | Offline status |

---

## Check Phone Number

Check if a phone number is registered on WhatsApp.

```http
POST /chats/check-number
```

**Body:**
```json
{
  "sessionId": "mysession",
  "phone": "628123456789"
}
```

---

## Get Profile Picture

Get the profile picture URL of a phone number.

```http
POST /chats/profile-picture
```

**Body:**
```json
{
  "sessionId": "mysession",
  "phone": "628123456789"
}
```

---

## Get Contact Info

Get detailed contact information.

```http
POST /chats/contact-info
```

**Body:**
```json
{
  "sessionId": "mysession",
  "phone": "628123456789"
}
```
